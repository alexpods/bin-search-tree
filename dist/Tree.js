function BinarySearchTree$706(r){r=r||{},"function"==typeof r&&(r.compare=r),this._root=null,this._min=null,this._max=null,this._length=0,this._cc=r.compare}module.exports=BinarySearchTree$706;var Iterator$705=require("./Iterator");Object.defineProperties(BinarySearchTree$706.prototype,{root:{get:function(){return this._root.v}},rootKey:{get:function(){return this._root.k}},min:{get:function(){return this._min.v}},minKey:{get:function(){return this._min.k}},max:{get:function(){return this._max.v}},maxKey:{get:function(){return this._max.k}},length:{get:function(){return this._length}}}),BinarySearchTree$706.prototype.set=function(r,e){if(!this._root)return this._root=this._min=this._max={k:r,v:e,p:null,l:null,r:null,m:null},this._length++,this;var t=this._search(r);if(t[0])return t[1].v=e,this;var n={k:r,v:e,p:null,l:null,r:null,m:null};return this._linkNodes(t[1],n),this._length++,this.compareKeys(r,this._min.k)<0?this._min=n:this.compareKeys(r,this._max.k)>0&&(this._max=n),this},BinarySearchTree$706.prototype.get=function(r){var e=this._search(r);if(e[0])return e[1].v},BinarySearchTree$706.prototype.has=function(r){return this._search(r)[0]},BinarySearchTree$706.prototype["delete"]=function(r){var e=this._search(r);if(!e[0])return!1;var t=e[1];return t===this._root?this._root=this._removeNode(t):this._removeNode(t),this._length--,!0},BinarySearchTree$706.prototype.clone=function(){var r=new this.constructor;return r._cc=this._cc,r},BinarySearchTree$706.prototype.forEach=function(r){if(null!==this._min){var e=this._min,t=e,n=new Array(50),i=0;do for(r(t.v,t.k,this);t.r;){for(t=t.r;t.l;)n[i++]=t,t=t.l;r(t.v,t.k,this)}while(t=i?n[--i]:e=e.p)}},BinarySearchTree$706.prototype.every=function(r){if(null===this._min)return!0;var e=this._min,t=e,n=new Array(50),i=0;do{if(!r(t.v,t.k,this))return!1;for(;t.r;){for(t=t.r;t.l;)n[i++]=t,t=t.l;if(!r(t.v,t.k,this))return!1}}while(t=i?n[--i]:e=e.p);return!0},BinarySearchTree$706.prototype.some=function(r){if(null===this._min)return!0;var e=this._min,t=e,n=new Array(50),i=0;do{if(r(t.v,t.k,this))return!0;for(;t.r;){for(t=t.r;t.l;)n[i++]=t,t=t.l;if(r(t.v,t.k,this))return!0}}while(t=i?n[--i]:e=e.p);return!1},BinarySearchTree$706.prototype.reduce=function(r,e){if(null===this._min)return e;var t=e,n=this._min,i=n,o=new Array(50),h=0;do for(t=r(t,i.v,i.k,this);i.r;){for(i=i.r;i.l;)o[h++]=i,i=i.l;t=r(t,i.v,i.k,this)}while(i=h?o[--h]:n=n.p);return t},BinarySearchTree$706.prototype.reduceRight=function(r,e){if(null===this._max)return e;var t=e,n=this._max,i=n,o=new Array(50),h=0;do for(t=r(t,i.v,i.k,this);i.l;){for(i=i.l;i.r;)o[h++]=i,i=i.r;t=r(t,i.v,i.k,this)}while(i=h?o[--h]:n=n.p);return t},global.Symbol&&(BinarySearchTree$706.prototype[Symbol.iterator]=function(){return this.values()}),BinarySearchTree$706.prototype.values=function(){return new Iterator$705(this,"v")},BinarySearchTree$706.prototype.keys=function(){return new Iterator$705(this,"k")},BinarySearchTree$706.prototype.entries=function(){return new Iterator$705(this,"e")},BinarySearchTree$706.prototype.compareKeys=function(r,e){var t=this._cc,n=t&&t(r,e),i=Object.prototype.toString;return"undefined"!=typeof n?"[object Number]"===i.call(n)?n:n?-1:1:r===e?0:r>e?1:-1},BinarySearchTree$706.prototype._search=function(r,e){var t,n=e||this._root;if(!n)return[!1,n];for(;t=this.compareKeys(r,n.k);)if(0>t){if(!n.l)return[!1,n];n=n.l}else{if(!n.r)return[!1,n];n=n.r}return[!0,n]},BinarySearchTree$706.prototype._linkNodes=function(r,e,t){e.p=r;var n=this.compareKeys(e.k,r.k);if(0===n)throw new Error("Could not link parent and child nodes with equal keys!");if("undefined"!=typeof t)switch(t.toLowerCase()){case"l":case"left":r.l=e;break;case"r":case"right":r.r=e;break;default:throw new Error("Incorrect link nodes type!")}else 0>n?r.l=e:r.r=e},BinarySearchTree$706.prototype._removeNode=function(r){var e=r.p,t=r.l,n=r.r;r===this._min&&(this._min=r.r?this._getMinNode(r.r):r.p),r===this._max&&(this._max=r.l?this._getMaxNode(r.l):r.p);var i=e&&(e.l===r?"left":"right");return n||t?n?t?(this._linkNodes(this._getMaxNode(n),t,"right"),e?(this._linkNodes(e,n,i),r.p=null):n.p=null,r.l=null,r.r=null,e||n):(e?(this._linkNodes(e,n,i),r.p=null):n.p=null,r.l=null,e||n):(e?(this._linkNodes(e,t,i),r.p=null):t.p=null,r.r=null,e||t):(e&&("left"===i?e.l=null:e.r=null,r.p=null),e)},BinarySearchTree$706.prototype._getMinNode=function(r){for(var e=r||this._root;e.l;)e=e.l;return e},BinarySearchTree$706.prototype._getMaxNode=function(r){for(var e=r||this._root;e.r;)e=e.r;return e};
//# sourceMappingURL=Tree.js.map